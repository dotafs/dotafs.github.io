

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="../../../../img/fluid.png">
  <link rel="icon" href="../../../../img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Chenxi Qu">
  <meta name="keywords" content="">
  
    <meta name="description" content="PGPdigital signaturessender 用一个cryptographic function(比如SHA-256)来计算发送信息的hash(digest)，这个hash表示的message是独一无二的，定长的。再使用sender自己的private key使用 asymmetric algorithm (比如RSA&#x2F;DSA)对这个hash进行签名, recipient 再用">
<meta property="og:type" content="article">
<meta property="og:title" content="Cyber_security">
<meta property="og:url" content="http://example.com/2023/04/24/Cyber-security/index.html">
<meta property="og:site_name" content="dotafs">
<meta property="og:description" content="PGPdigital signaturessender 用一个cryptographic function(比如SHA-256)来计算发送信息的hash(digest)，这个hash表示的message是独一无二的，定长的。再使用sender自己的private key使用 asymmetric algorithm (比如RSA&#x2F;DSA)对这个hash进行签名, recipient 再用">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/2.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/1.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/3.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/4.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/5.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/6.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/7.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/8.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/9.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/10.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/11.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/12.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/14.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/13.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/15.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/16.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/17.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/18.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/19.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/20.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/21.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/22.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/23.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/24.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/25.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/26.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/27.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/28.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/29.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/30.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/32.jpeg">
<meta property="og:image" content="http://example.com/2023/04/24/Cyber-security/33.jpeg">
<meta property="article:published_time" content="2023-04-24T14:48:11.528Z">
<meta property="article:modified_time" content="2023-05-16T20:02:09.650Z">
<meta property="article:author" content="Chenxi Qu">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2023/04/24/Cyber-security/2.jpeg">
  
  
  
  <title>Cyber_security - dotafs</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="../../../../css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="../../../../css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="../../../../css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.1","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="../../../../js/utils.js" ></script>
  <script  src="../../../../js/color-schema.js" ></script>

  
<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.2.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="../../../../index.html">
      <strong>DOTAFS</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../index.html">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="../../../../about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('../../../../img/default1.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Cyber_security"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          32k words
        
      </span>
    

    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
<script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
<script type="text/javascript" src="/js/fireworks.js"></script>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Cyber_security</h1>
            
            <div class="markdown-body">
              
              <h1 id="PGP"><a href="#PGP" class="headerlink" title="PGP"></a>PGP</h1><h2 id="digital-signatures"><a href="#digital-signatures" class="headerlink" title="digital signatures"></a>digital signatures</h2><p>sender 用一个cryptographic function(比如SHA-256)来计算发送信息的hash(digest)，这个hash表示的message是独一无二的，定长的。再使用sender自己的private key使用 asymmetric algorithm (比如RSA&#x2F;DSA)对这个hash进行签名, recipient 再用sender的public key进行验证。</p>
<h2 id="message-encryption-x2F-confidentiality"><a href="#message-encryption-x2F-confidentiality" class="headerlink" title="message encryption &#x2F; confidentiality"></a>message encryption &#x2F; confidentiality</h2><p>PGP 使用hybird encryption(混合加密), symmetric encryption(对称加密) 用于encrypt实际信息, asymmetric encryption(非对称加密) 用于加密session key和digital signatures.</p>
<h2 id="完整步骤"><a href="#完整步骤" class="headerlink" title="完整步骤"></a>完整步骤</h2><p><img src="/2023/04/24/Cyber-security/2.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="PGP-Services"><a href="#PGP-Services" class="headerlink" title="PGP Services"></a>PGP Services</h2><h3 id="confidentiality-only"><a href="#confidentiality-only" class="headerlink" title="confidentiality only"></a>confidentiality only</h3><p>If you only use PGP to encrypt your information (confidentiality(保密性)), you protect the message from unauthorized access, but you do not guarantee its integrity(完整性).</p>
<p>Z&#x2F;Z-1: 压缩和解压操作。PGP在加密前对信息进行压缩，以节省空间和减少传输时间。<br>EC&#x2F;DC: 对称密钥的加密和解密操作。这些操作是使用会话密钥进行的。<br>EP&#x2F;DP： 公钥加密和解密操作。这些操作使用收件人的公共和私人密钥进行。<br>‘||’: 连接，即把两个或多个数据连接在一起。<br>综上所述，描述了PGP如何通过用对称会话密钥加密信息内容，然后用收件人的公开密钥加密会话密钥来为信息提供保密性。这个过程不涉及数字签名或消息认证和完整性检查。<br><img src="/2023/04/24/Cyber-security/1.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="Confidentiality-and-Authentication"><a href="#Confidentiality-and-Authentication" class="headerlink" title="Confidentiality and Authentication"></a>Confidentiality and Authentication</h3><p>Authentication(digital signatures(数字签名))，就可以保证了integrity(完整性)。<br><img src="/2023/04/24/Cyber-security/3.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="PGP-Message-Format"><a href="#PGP-Message-Format" class="headerlink" title="PGP Message Format"></a>PGP Message Format</h2><ol>
<li>Session key component: 该组件包含会话密钥和发件人用于加密会话密钥的收件人公钥的标识符。会话密钥是为每条信息生成的唯一的、一次性的密钥，用于使用对称加密算法（如AES）对信息内容进行加密。为了安全地将会话密钥传输给收件人，发件人使用收件人的公钥和非对称加密算法（如RSA）对其进行加密。包括收件人公钥的标识符，确保收件人知道他们的公钥中哪一个被使用，以防他们有多个公钥。</li>
<li>Message component: 该组件包含要传输的实际数据，使用会话密钥进行加密。除了加密的信息内容外，信息组件还包括元数据，如文件名和指定信息创建时间的时间戳。文件名可以帮助收件人了解消息的背景或目的，而时间戳则有助于跟踪消息的年龄并确保其相关性。</li>
<li>Signature component: Timestamp(时间戳)目的是产生签名时间。Message digest(信息摘要)，结合签名时间，可以用来验证消息的完整性。</li>
<li>前两个字节: 当收件人使用发件人的公钥对信息摘要（数字签名）进行解密时，他们将获得信息内容的原始哈希值和签名的时间戳。然后，他们可以将这个解密的哈希值的前两个字节与包含在签名组件中的消息摘要的前两个字节的明文副本进行比较。<br>如果这前两个字节相匹配，就表明解密时使用了正确的公钥，并且该信息被认为是真实的。然后，收件人可以继续对收到的消息内容结合签名时间戳生成一个新的哈希值，并将其与解密后的哈希值进行比较。如果两个哈希值相匹配，就可以确认该消息在传输过程中没有被篡改，可以安全使用。<br>通过这种方式，PGP消息格式确保了消息的认证和完整性，使收件人可以验证发件人的身份和消息的完整性。</li>
</ol>
<h2 id="key-rings"><a href="#key-rings" class="headerlink" title="key rings"></a>key rings</h2><p>PGP使用key rings来存储公钥和私钥。key rings是一个文件，包含了公钥和私钥。key rings可以分为两类：public key rings和private key rings。public key rings包含了公钥，private key rings包含了私钥。 sender 和 recipients 都有自己的key rings。</p>
<h3 id="key-identifiers-key-ID"><a href="#key-identifiers-key-ID" class="headerlink" title="key identifiers (key ID)"></a>key identifiers (key ID)</h3><p>recipients 怎么知道一条接受的message是用哪个public key?</p>
<ol>
<li>message和public key同时发送给recipients</li>
<li>使用key identifier 去识别一个public key特别是在key server上的。</li>
</ol>
<p>PGP 使用后者，UserID x key ID。key ID 是public key的hash，用来识别public key。ie. KeyID &#x3D; $KU_a mod 2^{64}$. 私钥(KR),公钥(KU), 特定用户a,所以KU_a指的是用户a的公钥。这句话的意思是指就指计算一个private key的时候，应该使用用户KU中最没有意义的64位。</p>
<p>A private-key ring to store the private&#x2F;public key pairs owned<br>by this user.<br>A public-key ring to store the public keys of other users known<br>to this user.  </p>
<p>Both key rings can be indexed by either User ID or Key ID.</p>
<h3 id="encryption-private-key"><a href="#encryption-private-key" class="headerlink" title="encryption private key"></a>encryption private key</h3><p>encencrypted private key &#x3D; $EC_{H(Pi)}[PR_i]$</p>
<p>$PR_i$ : User i’s private key  </p>
<p>CAST-128(C): A symmetric algorithm</p>
<p>Key-encryption key: 用于加密User’s private key($PR_i$)的key，是由用户选择的passphrase(口令): $Pi$生成的。  </p>
<p>Passphrase(口令 Pi): 类似于密码，但是比密码更长，更复杂。每一个private key应该有与之对应的一个passphrase。  </p>
<p>Hash function(H): 输入Passphrase(Pi),输出一个hash code(H)，这个hash code(H)用于求出key-encryption key。</p>
<p>encryption process(E): 加密过程</p>
<h3 id="private-key-rings"><a href="#private-key-rings" class="headerlink" title="private-key rings"></a>private-key rings</h3><p>pairs : {private key : public key}</p>
<p>有点类似于windows，每一行就是windows的一个user，我可以有多个user。</p>
<p>Timestep 是创建这个用户的时间。</p>
<p><img src="/2023/04/24/Cyber-security/4.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="PGP-Trust-Model"><a href="#PGP-Trust-Model" class="headerlink" title="PGP Trust Model"></a>PGP Trust Model</h3><h4 id="Web-of-Trust"><a href="#Web-of-Trust" class="headerlink" title="Web-of-Trust"></a>Web-of-Trust</h4><p>Owner Trust: PGP user 信任key’s owner to sign public-key certificates(public key签署的公共密钥证书的信任程度).<br>e.g.</p>
<ul>
<li>ounknown user</li>
<li>opartially trusted user</li>
<li>ofully trusted user</li>
</ul>
<p>Signature Trust: 证书的签名者(certificate signer)对用户身份的信任程度。这个值在key server(钥匙服务器)与certificate signed 一起公开。比如Ailice signs(certifies) Bob‘s key，也就是她生命信任Bob的身份。</p>
<p>Key Legitimacy: 该PGP用户对public key的拥有者的身份的信任程度。至少有一个Signature fully trusted , 或者两个Signature partially trusted.</p>
<p><img src="/2023/04/24/Cyber-security/5.jpeg" srcset="/img/loading.gif" lazyload></p>
<h4 id="Public-key-revocation-公钥废止"><a href="#Public-key-revocation-公钥废止" class="headerlink" title="Public key revocation(公钥废止)"></a>Public key revocation(公钥废止)</h4><ol>
<li>与公钥相关的私钥被破坏</li>
<li>所有者不再需要该证书</li>
</ol>
<p>这个步骤是右所有者发出一个废止证书(revocation certificate)。这个证书中包含着public key to be revoked，和private key’s signature.</p>
<p><img src="/2023/04/24/Cyber-security/6.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="Generation-of-the-signature-component"><a href="#Generation-of-the-signature-component" class="headerlink" title="Generation of the signature component"></a>Generation of the signature component</h3><ol>
<li>Signing a message : sender 决定使用PGP对信息进行签名从而提供Authenticity 和 integrity.</li>
<li>Retrieving the sender’s private key: sender 从key ring中找到自己的private key.</li>
<li>prompting for passpharse: sender 输入passphrase，用于解密private key.</li>
<li>constructing the signature component: 在private key 被解密之后，PGP会结合message’s content生成一个signature component。然后这个签名会被添加到信息之中。</li>
<li>recipient 收到信息之后，可以用签名和public key来验证信息完整性切没有被修改，和确实来自用户ID这个人。</li>
</ol>
<h3 id="generation-of-the-session-key-component"><a href="#generation-of-the-session-key-component" class="headerlink" title="generation of the session key component"></a>generation of the session key component</h3><ol>
<li>generating a session key: sender 生成一个session key，用于加密信息。</li>
<li>encrypting the Message: sender 用session key加密信息。</li>
<li>retrieving the recipient’s public key: sender 从key ring中通过User ID 作为index来找到recipient的public key。</li>
<li>constructing the session key component: PGP 对session key进行加密。</li>
<li>recipient 收到的message由两部分组成，session key component（使用recipient的public key加密的） 和 加密信息本身。</li>
<li>recipient 用自己的private key解密session key component，然后用session key解密信息本身。</li>
</ol>
<h2 id="Exercise-Question-–-E10-1"><a href="#Exercise-Question-–-E10-1" class="headerlink" title="Exercise Question – E10.1"></a>Exercise Question – E10.1</h2><p>In secure email systems, such as PGP (pretty good privacy), the order<br>of message protection operations performed by a sending entity is to<br>first sign the outgoing&#x2F;email message, then compress the signed<br>message, and finally encrypt the compressed message. Answer the<br>following questions:  </p>
<p>(i) What are the justifications (or benefits) for using this order of<br>operations?</p>
<p>(ii) Would this order of operations be suitable for all cases of<br>applications?</p>
<p>(iii) Assuming that Alice sends Bob an email, M. Express the whole<br>message that is sent by Alice using protocol notation format?</p>
<ol>
<li>Signature verification can only be carried out after two decryption<br>operations and this makes the solution vulnerable to DoS attacks.<br>However, as this is an end user to end user communication at the<br>application level, so the issue of DoS attacks is considered not as<br>important as users’ preference of record-keeping a signed email (on<br>plaintext). Compression-then-encryption can bring two benefits, one is<br>security (harder to break a text that is not recognisible) and the other is<br>performance (cheaper to encrypt a shorter message)</li>
</ol>
<h1 id="Software-security-Malware"><a href="#Software-security-Malware" class="headerlink" title="Software security (Malware)"></a>Software security (Malware)</h1><h2 id="Viruses-病毒"><a href="#Viruses-病毒" class="headerlink" title="Viruses(病毒)"></a>Viruses(病毒)</h2><h3 id="Viruses-Classifications-病毒分类"><a href="#Viruses-Classifications-病毒分类" class="headerlink" title="Viruses Classifications(病毒分类)"></a>Viruses Classifications(病毒分类)</h3><h4 id="Classification-by-concealment-strategy-隐蔽性策略分类"><a href="#Classification-by-concealment-strategy-隐蔽性策略分类" class="headerlink" title="Classification by concealment strategy(隐蔽性策略分类)"></a>Classification by concealment strategy(隐蔽性策略分类)</h4><ol>
<li>Polymorphic virus(多态性病毒): changees its appearance, control flow or other characteristics 当infects a new host.</li>
<li>Metamorphic virus(变态病毒): 更牛逼，传播的时候还改变了自己的代码，不仅改变了外观，还改变了行为。</li>
</ol>
<h4 id="Classification-by-target-目标分类"><a href="#Classification-by-target-目标分类" class="headerlink" title="Classification by target(目标分类)"></a>Classification by target(目标分类)</h4><ol>
<li>Boot sector viruses: infects the boot sector of a disk.(这个区域是包含计算机启动时候执行的代码的区域。感染后，可以确保病毒开机自动加载和执行，并将自己传递到其他磁盘上)</li>
<li>File viruses: 针对executable file(可执行文件)，比如.exe,.bat.感染文件被执行，病毒被执行。</li>
<li>Multipartitle virusees: 前两者结合起来。</li>
<li>Macro viruses: 利用Word 和 Excel等的内置编程语言。感染后，会在打开文档的时候执行病毒代码。</li>
<li>scripting viruses: JS或者VB，网页或者电子邮件附件上。</li>
</ol>
<h3 id="structrure-of-a-virus-病毒结构"><a href="#structrure-of-a-virus-病毒结构" class="headerlink" title="structrure of a virus(病毒结构)"></a>structrure of a virus(病毒结构)</h3><h4 id="Propagation-传播"><a href="#Propagation-传播" class="headerlink" title="Propagation(传播)"></a>Propagation(传播)</h4><p>将病毒从一个系统传播到另一个系统，过程通常需要人为干预，打开垃圾邮件，非正规网站下载资源。</p>
<h4 id="Triggering-触发"><a href="#Triggering-触发" class="headerlink" title="Triggering(触发)"></a>Triggering(触发)</h4><p>导致病毒执行的事件，比如打开文件，启动计算机，或者特定的日期。</p>
<h4 id="Payload-载荷"><a href="#Payload-载荷" class="headerlink" title="Payload(载荷)"></a>Payload(载荷)</h4><p>病毒的主要功能，比如delete files，steal information, encrypting data(赎金软件)。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs C++"><span class="hljs-built_in">Virus</span>() &#123;<br><span class="hljs-built_in">infectExecutable</span>();<br><span class="hljs-keyword">if</span> (<span class="hljs-built_in">triggered</span>()) &#123;<br><span class="hljs-built_in">doDamage</span>();<br>&#125;<br>jump to main of infected program;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">infectExecutable</span><span class="hljs-params">()</span> </span>&#123;<br>file = choose an uninfected executable<br>file;<br>prepend/postpend/embed V to file;<br>&#125;<br><span class="hljs-function"><span class="hljs-type">void</span> <span class="hljs-title">doDamage</span><span class="hljs-params">()</span> </span>&#123; ... &#125;<br><span class="hljs-function"><span class="hljs-type">int</span> <span class="hljs-title">triggered</span><span class="hljs-params">()</span> </span>&#123; <span class="hljs-keyword">return</span> (some test? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>); &#125; <br></code></pre></td></tr></table></figure>

<h2 id="Worms-蠕虫"><a href="#Worms-蠕虫" class="headerlink" title="Worms(蠕虫)"></a>Worms(蠕虫)</h2><p>与病毒的区别是，不需要人的互动,通过软件或者服务器漏洞传播。</p>
<h3 id="Target-Discovery"><a href="#Target-Discovery" class="headerlink" title="Target Discovery"></a>Target Discovery</h3><ol>
<li>Port scanning(端口扫描): 扫描网络上的所有端口，找到开放的端口，然后尝试连接，如果连接成功，就可以传播。</li>
<li>External hit-list: 通过外部来源(meta-servers)获得有可能被感染的目标列表。</li>
<li>Internal topological information : 已经感染的受害者及其上发现更多的目标主机。比如硬盘存的url，电子邮件。</li>
<li>local subnet address structure : 如果Worm已经渗透到了防火墙内部，他就可以感染子网中其他的主机。</li>
</ol>
<h3 id="Propagation-传播-1"><a href="#Propagation-传播-1" class="headerlink" title="Propagation (传播)"></a>Propagation (传播)</h3><ol>
<li>Exploiting communitcation&#x2F;networking facilities or services(利用通信网络设施&#x2F;服务): 比如利用邮件，RPC(远程程序调用)。</li>
<li>Exploiting vulnerabilities or bugs in operating system(操作系统漏洞): 比如buffer overflow, code injection, SQL injection.</li>
<li>Taking advantage of mobile code characteristics(利用移动代码的特点)： 电子邮件附件，互动，动态内容。</li>
<li>Insecured file sharing facilities.(不安全的文件共享设施)。</li>
</ol>
<h3 id="Activation-and-Payload"><a href="#Activation-and-Payload" class="headerlink" title="Activation and Payload"></a>Activation and Payload</h3><ol>
<li>Activation(激活): 打开电子邮件附件，点击网络链接。分为Human activity-based activation, Human activation, Scheduled process activation, self-activation.</li>
<li>Payload: worm被激活开始工作，比如Dos(as a botnet),Data theft,Data integrity attack。</li>
</ol>
<p><img src="/2023/04/24/Cyber-security/7.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="其他种类"><a href="#其他种类" class="headerlink" title="其他种类"></a>其他种类</h2><ol>
<li>Trapdoor (backdoor 后门): developers for maintenance or testing purpose or maliciously inserted by attackers.</li>
<li>Trojan horse (木马): 伪装成正常程序，但是实际上是恶意程序。</li>
<li>Malicious Mobile Code(恶性移动代码): 从远程主机传送到本机。</li>
<li>Zombies(bots僵尸): 被攻击者控制的主机，用来进行DDoS(分布式拒绝服务攻击) DDos 有一个Botnet，但DOS没有因为只是一个bot。</li>
<li>Blended Attacks:  混合式攻击是指采用多种感染和&#x2F;或传输方法来破坏系统或网络的恶意活动。</li>
</ol>
<h2 id="APTS-Advanced-Persistent-Threats-高级持续性威胁"><a href="#APTS-Advanced-Persistent-Threats-高级持续性威胁" class="headerlink" title="APTS(Advanced Persistent Threats 高级持续性威胁)"></a>APTS(Advanced Persistent Threats 高级持续性威胁)</h2><ol>
<li>Crimeware toolkits(犯罪软件包): APT攻击者通常使用软件包。没啥好说的，任何人都用。</li>
<li>Persistence and stealth(持续性和隐蔽性); 攻击者渗透到目标网络之中并很长时间不被发现。</li>
<li>Organized and dangerous attack source: 有组织的危险和攻击来源，从以前为了装逼的个人或者小团地转变成了正式的攻击组织&#x2F;国家。</li>
<li>Targeted attacks: APTs通常具有高度的针对性，比如国防，政府，金融。</li>
</ol>
<h2 id="Buffer-Overflow"><a href="#Buffer-Overflow" class="headerlink" title="Buffer Overflow"></a>Buffer Overflow</h2><p>buffer是一个pre-allocated data storage area in computer’s memory. 用来暂时的保存数据，如果overflow了，缓冲区溢出，导致多余的数据已出道了邻近的内存位置，导致覆盖了重要的代码，从而有安全行为或者漏洞。</p>
<p><img src="/2023/04/24/Cyber-security/8.jpeg" srcset="/img/loading.gif" lazyload></p>
<ol>
<li>Consequence: 正常情况会给程序干崩溃，通常用一个指向自己的恶意代码(shellcode)的指针覆盖返回地址，或者攻击者可以在函数返回的时候控制程序的执行流程。</li>
<li>如果登陆需要填写Authenticated才会进入，编译器在str之后立刻存储变量，攻击者可以通过提供21个字节的数据，覆盖掉返回地址，然后在后面加上shellcode，就可以控制程序的执行流程。</li>
</ol>
<h2 id="Program-Memory-Layout"><a href="#Program-Memory-Layout" class="headerlink" title="Program Memory Layout"></a>Program Memory Layout</h2><ol>
<li>Stack: 用来存储局部变量，函数参数，返回地址，函数调用的上下文信息。</li>
<li>Heap: 用来存储动态分配的内存，比如malloc, new。</li>
<li>BSS (Block Start by Symbol) segment : 存储未初始化的全局&#x2F;静态变量。</li>
<li>Data segment: 用来存储全局变量，静态变量，常量。</li>
<li>Text segment : 用来存可执行文件的可执行代码。</li>
</ol>
<p>buffer 可以是stack或者heap。</p>
<h3 id="Heap-Based-attacks"><a href="#Heap-Based-attacks" class="headerlink" title="Heap-Based attacks"></a>Heap-Based attacks</h3><p>如果成功，会导致任意代码饿执行访问崩溃，更具有挑战，需要更加了解目标陈旭的内存布局和管理。</p>
<h3 id="Stack-Based-attacks"><a href="#Stack-Based-attacks" class="headerlink" title="Stack-Based attacks"></a>Stack-Based attacks</h3><p>LIFO（先进后出）的结构组织的，新添加的项目第一个被删除。<br><img src="/2023/04/24/Cyber-security/9.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="Stack-based-on-x86"><a href="#Stack-based-on-x86" class="headerlink" title="Stack(based on x86)"></a>Stack(based on x86)</h3><ol>
<li>Instruction Pointer(register %eip): 处理器执行的下体条命令。</li>
<li>Stack Pointer(%esp): 指向栈顶的指针。</li>
<li>(Current) Frame Pointer(%ebp): The Frame Pointer 是当一个函数被调用，新的Stack frame 被创建。</li>
</ol>
<h1 id="VPN-Virtual-Private-Network"><a href="#VPN-Virtual-Private-Network" class="headerlink" title="VPN(Virtual Private Network)"></a>VPN(Virtual Private Network)</h1><ol>
<li>Tunneling(隧道): VPN在你的设备和VPN服务器之间创建一个隧道，将你的数据密封在其中。包括encapsulation, transmission and decapsulation。</li>
<li>Private Intranet: 一个私有网络，只有内部的设备可以访问，外部的设备无法访问。</li>
<li>IP-in-IP Tunnel: 允许两个网络(Private Intranet)&#x2F;设备之间建立安全的隧道链接，通过在原始IP数据包的头部添加一个新的IP头部来实现。可以让两个IP在公共网络中也可以安全的通信。工作原理如下图所示。</li>
</ol>
<p><img src="/2023/04/24/Cyber-security/10.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="VPN-routers-gateways-路由器"><a href="#VPN-routers-gateways-路由器" class="headerlink" title="VPN routers(gateways 路由器)"></a>VPN routers(gateways 路由器)</h3><ol>
<li>Standalone VPNs: 转饿为提供VPN功能而设计的专用网络设备。  </li>
<li>Integrated VPNs: 把VPN功能添加到现有设备，不需要专业设备。比如添加到路由器或者防火墙上。</li>
</ol>
<h1 id="Introduction"><a href="#Introduction" class="headerlink" title="Introduction"></a>Introduction</h1><h2 id="Cybersecurity-Domains"><a href="#Cybersecurity-Domains" class="headerlink" title="Cybersecurity Domains"></a>Cybersecurity Domains</h2><ol>
<li>Critical Infrastructure Security 关键基础设施安全: 保护国家的基础设施，比如电力，交通，通信，金融。</li>
<li>Network&#x2F;Internet Security 网络&#x2F;互联网安全: 授权访问，防火墙，入侵检测系统(IDS),入侵防御系统(IPS)和安全的网络架构。</li>
<li>Application Security 软件安全: 保护应用程序，比如web应用程序，数据库，操作系统。</li>
<li>Cloud Security yunanquan: 保护云计算环境。</li>
<li>Information Security 信息安全: 保护信息，比如数据，文件，邮件，通信。</li>
<li>End-User Education 用户教育: 保护用户，比如安全意识，安全培训，安全政策。</li>
<li>Disaster Recovery&#x2F;Business Continuity 恢复&#x2F;业务连续性: 保护组织的业务，比如备份，恢复，灾难恢复计划，业务连续性计划。</li>
</ol>
<h2 id="E1-1"><a href="#E1-1" class="headerlink" title="E1.1"></a>E1.1</h2><p>Respectively assuming yourself as</p>
<ul>
<li>the owner&#x2F;director of an SME (Small and medium-sized<br>enterprise),</li>
<li>the IT manager in an organization, managing the IT facilities in<br>the organization, and</li>
<li>the manager of the development team in an IT company, in<br>charge of developing an app for on-line shopping,<br>carry out some research and identify</li>
</ul>
<ol>
<li>cybersecurity challenges and</li>
<li>measures to tackle the challenges.</li>
</ol>
<h2 id="E1-1-solution"><a href="#E1-1-solution" class="headerlink" title="E1.1 solution"></a>E1.1 solution</h2><h3 id="Owner-x2F-director-of-an-SME"><a href="#Owner-x2F-director-of-an-SME" class="headerlink" title="Owner&#x2F;director of an SME:"></a>Owner&#x2F;director of an SME:</h3><h4 id="Cybersecurity-challenges"><a href="#Cybersecurity-challenges" class="headerlink" title="Cybersecurity challenges:"></a>Cybersecurity challenges:</h4><p>Limited budget and resources for cybersecurity measures.<br>Lack of cybersecurity awareness among employees.<br>Vulnerability to ransomware, phishing, and other types of cyberattacks.</p>
<h4 id="Measures-to-tackle-the-challenges"><a href="#Measures-to-tackle-the-challenges" class="headerlink" title="Measures to tackle the challenges:"></a>Measures to tackle the challenges:</h4><p>Invest in essential security measures such as firewalls, antivirus software, and data backups.<br>Provide cybersecurity awareness training for employees.<br>Implement strong access control and password policies.</p>
<h3 id="IT-manager-in-an-organization"><a href="#IT-manager-in-an-organization" class="headerlink" title="IT manager in an organization:"></a>IT manager in an organization:</h3><h4 id="Cybersecurity-challenges-1"><a href="#Cybersecurity-challenges-1" class="headerlink" title="Cybersecurity challenges:"></a>Cybersecurity challenges:</h4><p>Securing a growing number of devices and endpoints.<br>Managing software and hardware updates to address vulnerabilities.<br>Ensuring compliance with data protection regulations.</p>
<h4 id="Measures-to-tackle-the-challenges-1"><a href="#Measures-to-tackle-the-challenges-1" class="headerlink" title="Measures to tackle the challenges:"></a>Measures to tackle the challenges:</h4><p>Implement a comprehensive endpoint security strategy, including regular patch management and vulnerability assessments.<br>Establish a clear incident response plan to handle potential cybersecurity incidents.<br>Collaborate with other departments to ensure data protection policies are adhered to.</p>
<h3 id="Manager-of-the-development-team-in-an-IT-company-developing-an-online-shopping-app"><a href="#Manager-of-the-development-team-in-an-IT-company-developing-an-online-shopping-app" class="headerlink" title="Manager of the development team in an IT company (developing an online shopping app):"></a>Manager of the development team in an IT company (developing an online shopping app):</h3><h4 id="Cybersecurity-challenges-2"><a href="#Cybersecurity-challenges-2" class="headerlink" title="Cybersecurity challenges:"></a>Cybersecurity challenges:</h4><p>Protecting user personal information and payment data.<br>Preventing fraudulent activities, such as malicious refunds.<br>Mitigating the risk of Distributed Denial of Service (DDoS) attacks and other types of cyberattacks that can disrupt service availability.</p>
<h4 id="Measures-to-tackle-the-challenges-2"><a href="#Measures-to-tackle-the-challenges-2" class="headerlink" title="Measures to tackle the challenges:"></a>Measures to tackle the challenges:</h4><p>Implement strong encryption and secure coding practices to protect sensitive data.<br>Use secure and reliable payment processing services, and implement fraud detection mechanisms.<br>Deploy DDoS protection services and use cloud-based solutions with built-in redundancy to mitigate service disruptions.</p>
<h1 id="Security-Basic"><a href="#Security-Basic" class="headerlink" title="Security Basic"></a>Security Basic</h1><h2 id="Cybersecurity-Threats"><a href="#Cybersecurity-Threats" class="headerlink" title="Cybersecurity Threats"></a>Cybersecurity Threats</h2><ul>
<li>Malware (virus, trojan, worm, …)</li>
<li>Ransomware</li>
<li>Adware</li>
<li>Hacking</li>
<li>Spoofing</li>
<li>Phishing</li>
<li>Pharming</li>
<li>DDoS (Distributed Denial of Service) attacks (Botnets attacks)</li>
<li>Identity theft</li>
<li>SQL injection</li>
<li>Social engineering</li>
<li>Cryptojacking (Cryptocurrency Hijacking)</li>
<li>etc, the list goes on …</li>
</ul>
<h3 id="CIA-Confidentiality-Integrity-and-Availability"><a href="#CIA-Confidentiality-Integrity-and-Availability" class="headerlink" title="CIA(Confidentiality,Integrity and Availability)"></a>CIA(Confidentiality,Integrity and Availability)</h3><ol>
<li><p>Discolosure(threats to confidentiality): confidentiality是防止对敏感信息的未授权访问，Discolosure是值对敏感信息的未授权访问。</p>
<ol>
<li>Snooping，sniffing(data in transit):在数据上传的时候拦截和读取数据的手段,加密可以有效防止。</li>
<li>Unauthorized access(systems, data at rest):未经授权的访问系统和数据。</li>
</ol>
</li>
<li><p>Deception(fraud and forgeries; threats to integrity): 保证数据没有被篡改。</p>
<ol>
<li>Spoofing(identify theft): 攻击者模仿他人的证书通信模式假装成其他人。</li>
<li>Unauthorized data modification: 未经允许的数据修改。</li>
<li>Replay(intercept and retransmit): 涉及拦截和重传有效的数据传输</li>
<li>Repudiation(false denial) of origin, repudiation of recipt: 当参与交易的一方否认他们是交易的一部分。</li>
</ol>
</li>
<li><p>Disruption: 使得系统无法正常工作。</p>
<ol>
<li>Modification: 对系统活数据的未经允许的改变。</li>
<li>Delay: 影响服务的延迟。</li>
<li>Denial of service: 使得系统无法正常工作。</li>
</ol>
</li>
</ol>
<h3 id="Security-Properties"><a href="#Security-Properties" class="headerlink" title="Security Properties"></a>Security Properties</h3><ol>
<li>Freshness : 保证数据不是就数据的重放</li>
<li>Non-repudiation: 防止虚假拒绝</li>
<li>Fairness: 要么双方都收到认同的东西，活着都收不到东西</li>
</ol>
<h2 id="Achieving-Security-life-cycle"><a href="#Achieving-Security-life-cycle" class="headerlink" title="Achieving Security: life-cycle"></a>Achieving Security: life-cycle</h2><p>没有绝对的安全。<br>Life-cycle分为三个步骤: </p>
<ol>
<li>threats analysis: 识别威胁</li>
<li>design and implementation: 设计和实现</li>
<li>security assurance: 确保安全</li>
</ol>
<h3 id="Attack-Tree-Threat-Tree"><a href="#Attack-Tree-Threat-Tree" class="headerlink" title="Attack Tree (Threat Tree)"></a>Attack Tree (Threat Tree)</h3><p>root 是攻击目标，child是攻击方法。每一个节点都有一个likelihood 可能性，象征着入侵成功的概率。即货币成本，或者完成攻击所需要的成本。</p>
<p><img src="/2023/04/24/Cyber-security/11.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="Security-models"><a href="#Security-models" class="headerlink" title="Security models"></a>Security models</h2><h3 id="A-distributed-system-security-model"><a href="#A-distributed-system-security-model" class="headerlink" title="A distributed system security model"></a>A distributed system security model</h3><ul>
<li>认证： 验证网络中用户和系统的身份，确保他们被授权访问资源。</li>
<li>授权： 根据用户或系统的权限，授予或拒绝对特定资源的访问。</li>
<li>完整性： 确保数据和系统组件不被未授权方篡改或改变。</li>
<li>保密性： 保护敏感数据免受未经授权的访问和披露。</li>
<li>可用性： 确保系统及其资源在需要时能被授权用户访问。</li>
</ul>
<h3 id="A-communication-security-model"><a href="#A-communication-security-model" class="headerlink" title="A communication security model"></a>A communication security model</h3><ul>
<li>加密： 对数据进行编码，以便只有拥有适当解密密钥的授权方才能访问该信息。</li>
<li>认证： 验证通信各方的身份，以确保他们被授权参与通信。</li>
<li>不可否认性： 提供一种手段来证明特定的一方参与了一项通信或交易，防止他们事后否认他们的参与。</li>
<li>完整性： 确保传输的数据在传输过程中没有被改变或篡改。</li>
<li>密钥管理： 安全地生成、分发和管理通信过程中使用的加密密钥。</li>
</ul>
<h3 id="An-e-commerce-security-model"><a href="#An-e-commerce-security-model" class="headerlink" title="An e-commerce security model"></a>An e-commerce security model</h3><ul>
<li>安全通信： 利用加密协议，如SSL&#x2F;TLS，来保护客户和服务器之间传输的敏感数据。</li>
<li>认证： 验证用户、商家和系统的身份，以确保对资源和交易的安全和授权访问。</li>
<li>授权： 根据用户角色和权限控制对资源和功能的访问。</li>
<li>数据隐私： 通过加密和安全存储，确保保护敏感的用户信息，如信用卡号码和个人详细资料。</li>
<li>欺诈检测和预防： 实施检测和减少欺诈性交易的系统，如监测可疑活动和实施强大的认证机制。</li>
</ul>
<h2 id="E2-1"><a href="#E2-1" class="headerlink" title="E2.1"></a>E2.1</h2><p>Comment on the implications to risks (i.e. whether risks are increased or decreased) in<br>terms of Confidentiality, Integrity and Availability in each of the following cases:</p>
<ol>
<li><p>Disconnect a computer from the Internet<br>Disconnecting a computer from the Internet reduces risks to confidentiality, but availability<br>suffers. Integrity may also suffer due to loss of updates.</p>
</li>
<li><p>Have extensive data checks by different people&#x2F;systems<br>Have extensive data checks by different people&#x2F;systems can reduce risks to integrity, but<br>confidentiality suffers as more people will be able to see the data. Availability will also suffer<br>due to locks on data under verification</p>
</li>
</ol>
<h2 id="E2-2"><a href="#E2-2" class="headerlink" title="E2.2"></a>E2.2</h2><ol>
<li>In this exercise, you are asked to identify, via literature research,<br>potential cyber attack threats to mobile banking (i.e. perform<br>banking transactions using your mobile phone). You are expected to<br>be able to explain the attacking mechanism of each of your<br>identified threats (i.e. how the attack is performed) and try to name<br>any countermeasures to your identified threats.</li>
<li>Draw a threat tree for ‘reading your best friend’s email without<br>authorisation’.</li>
</ol>
<h1 id="Symmetric"><a href="#Symmetric" class="headerlink" title="Symmetric"></a>Symmetric</h1><p>$C &#x3D; E_K(M) (or C &#x3D; E(K, M)) \<br>M &#x3D; D_K(C) (or M &#x3D; D(K, C))<br>$  </p>
<ul>
<li>encryption function E_K(.), or a decryption function,<br>D_K(.).  </li>
<li>M is a plaintext block and C is a ciphertext block<br>is a secret (a symmetric or a private key)</li>
</ul>
<h2 id="Block-cipher-design-criteria-区块密码设计标准"><a href="#Block-cipher-design-criteria-区块密码设计标准" class="headerlink" title="Block cipher design criteria(区块密码设计标准)"></a>Block cipher design criteria(区块密码设计标准)</h2><ol>
<li><p>Completeness（完整性）： cipher text（密码文本）应该完全取决于 plain text(纯文本)。</p>
</li>
<li><p>Avalanche effect (Diffusion雪崩效应，扩散): 输入text或者private key的任何一个微小的变化应该导致输出text的巨大变化。目的是防止暴力破解。</p>
<ol>
<li>改变信息的一个bit 对应的输出信息很多个bit 得到改变。</li>
<li>改变private key的一个bit 对应的输出信息很多个bit 得到改变。</li>
</ol>
</li>
<li><p>Statistical independence (Confusion 混淆): 输入和输出的关系非常复杂，非线性函数或混合函数来实现的。目的是防止统计分析。</p>
</li>
</ol>
<h2 id="Feistel-Block-Cipher-费斯特尔区块密码"><a href="#Feistel-Block-Cipher-费斯特尔区块密码" class="headerlink" title="Feistel Block Cipher(费斯特尔区块密码)"></a>Feistel Block Cipher(费斯特尔区块密码)</h2><p><img src="/2023/04/24/Cyber-security/12.jpeg" srcset="/img/loading.gif" lazyload></p>
<ul>
<li>XOR : 比较两个二进制位数之间的不同，相同返回0，不同返回1.</li>
<li>Round function(f): n位块进行输出n位块，</li>
<li>Block Size(n):</li>
<li>Key Size(s):</li>
<li>Number of rounds(r):一般大于10, 循环次数</li>
</ul>
<p> 费斯特尔密码依靠XOR操作和圆形函数的组合来创造一个更复杂和安全的加密过程。轮次函数引入了混乱和扩散，而XOR操作有助于有效地混合输入数据和轮次函数的输出。</p>
<p>加密和解密过程都知道参数，如回合数、密钥和具体的回合函数。当正确的密钥与这些参数一起使用时，解密过程将逆转加密过程中应用的操作，允许恢复原始明文。</p>
<h2 id="DES-Data-Encryption-Standard"><a href="#DES-Data-Encryption-Standard" class="headerlink" title="DES (Data Encryption Standard)"></a>DES (Data Encryption Standard)</h2><p>DES is a Feistel block cipher</p>
<ol>
<li>密钥 K 是 56 位；实际上是 8 个字节，但每个字节中的第 8 位是奇偶校验位</li>
<li>子密钥k1, k2 …, k16各为48位，由密钥K生成,解密和加密相同，唯一的不同是解密subkey的顺序反过来。</li>
<li>DES不安全了,$2^{55}$次就可以破解，因为只是56-bit key, 但是DES的设计是很好的，所以可以用DES的设计思想，设计出更好的算法，比如3DES, AES。</li>
</ol>
<h3 id="Triple-DES-3DES"><a href="#Triple-DES-3DES" class="headerlink" title="Triple DES(3DES)"></a>Triple DES(3DES)</h3><h4 id="EDS2-3DES-用两个keys"><a href="#EDS2-3DES-用两个keys" class="headerlink" title="EDS2 (3DES 用两个keys)"></a>EDS2 (3DES 用两个keys)</h4><p>$Ciphertext (C) &#x3D; E_{K1}(D_{K2}(E_{K1}(Plaintext (M))))$</p>
<p>EDE2的密钥长度为112位（56位来自K1，56位来自K2）。在中间使用解密算法D对安全性没有直接影响。它的作用是在K1&#x3D;K2的情况下使Triple DES向后兼容单DES，这意味着在这种情况下它可以像单DES一样发挥作用。</p>
<h4 id="EDS2-3DES-用三个keys"><a href="#EDS2-3DES-用三个keys" class="headerlink" title="EDS2 (3DES 用三个keys)"></a>EDS2 (3DES 用三个keys)</h4><p>$Ciphertext (C) &#x3D; E_{K3}(D_{K2}(E_{K1}(Plaintext (M))))$</p>
<p>EDE3密钥长度168bits.</p>
<h2 id="AES-Advanced-Encryption-Standard"><a href="#AES-Advanced-Encryption-Standard" class="headerlink" title="AES (Advanced Encryption Standard)"></a>AES (Advanced Encryption Standard)</h2><p>A symmetric block cipher same as DES.</p>
<ul>
<li>使用相同的密钥来加密和解密信息。</li>
<li>明文和密码文本具有相同的大小。</li>
</ul>
<ol>
<li>不同于DES他是iterative而并非feistel cipher。</li>
<li>限定block size &#x3D; 128 bit。加密和解密都用128bit。</li>
<li>round(n):<ol>
<li>对于一个128位的密钥长度，r &#x3D; 10轮。</li>
<li>对于192位的密钥长度，r&#x3D;12轮。</li>
<li>对于256位的密钥长度，r&#x3D;14轮。</li>
</ol>
</li>
</ol>
<h3 id="十六进制-hexadecimal-hex-number"><a href="#十六进制-hexadecimal-hex-number" class="headerlink" title="十六进制(hexadecimal (hex) number)"></a>十六进制(hexadecimal (hex) number)</h3><p>0x5B</p>
<ol>
<li>0x 表示十六进制</li>
<li>5: $16^1 * 5$ (80)</li>
<li>B: $16^0 * 11$ (11)</li>
<li>5B &#x3D; 16 + 11 &#x3D; 91</li>
</ol>
<h3 id="SubBytes"><a href="#SubBytes" class="headerlink" title="SubBytes"></a>SubBytes</h3><p>这个步骤只是为了让plaintext变得更加复杂。high and low nibbles of a byte是用来寻找S-box中特定的index的。<br>比如5B，high nibble是5，low nibble是B，inde就是S-box[5][11]。找到这个index，把这个index的值拿过来放到当前的5B在的位置。<br><img src="/2023/04/24/Cyber-security/14.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="Shift-Row"><a href="#Shift-Row" class="headerlink" title="Shift Row"></a>Shift Row</h3><p><img src="/2023/04/24/Cyber-security/13.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="Mix-columns"><a href="#Mix-columns" class="headerlink" title="Mix columns"></a>Mix columns</h3><p>$GF(P^n)$ (in AES, p&#x3D;2, n&#x3D;8)</p>
<p>In AES, $m(x)&#x3D;x^8+x^4 +x^3+x^1+x^0$, i.e. 100011011 (or 11B) 这里因为使用了bitwise XOR，二进制等于1则有，0则没有。<br><img src="/2023/04/24/Cyber-security/15.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="Add-round-key"><a href="#Add-round-key" class="headerlink" title="Add round key"></a>Add round key</h3><p>状态的128位与圆密钥的128位进行位数XOR： 由于状态矩阵和圆密钥矩阵都由16个字节（128位）组成，AddRoundKey转换的结果是另一个128位的矩阵，其中每个位是状态矩阵和圆密钥矩阵中相应位的XOR。</p>
<p><img src="/2023/04/24/Cyber-security/16.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="DES-vs-AES"><a href="#DES-vs-AES" class="headerlink" title="DES vs AES"></a>DES vs AES</h2><p><img src="/2023/04/24/Cyber-security/17.jpeg" srcset="/img/loading.gif" lazyload></p>
<p>N-bit block cipher 需要超过 2^N 来破解。</p>
<h2 id="Stream-Cipher"><a href="#Stream-Cipher" class="headerlink" title="Stream Cipher"></a>Stream Cipher</h2><p>流密码是一种对称密钥加密算法，一次对明文数据进行加密，每次加密一个比特或字节。它们通过生成一个密钥流进行操作，密钥流是由秘密密钥产生的一个比特或字节序列。然后，密钥流与明文使用位XOR操作相结合，产生密码文本。</p>
<h3 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h3><p>Bitwise XOR 效率高</p>
<h3 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h3><ol>
<li>Key length 密钥必须和明文一样长，这在大多数应用场景中是不现实的</li>
<li>如果同一个密钥被用于多个明文，流密码就会受到攻击。能够获得两个明文的XOR（M1 XOR M2）的攻击者，如果能够获得另一个plaintext及其相应的密码文本（M1和C1），就可以恢复其中一个明文。这是因为将M1与C1进行XOR（即M1 XOR K）会得到密钥K，然后攻击者可以使用K来解密C2（即M2 XOR K）并恢复M2。<h3 id="Bitwise-XOR"><a href="#Bitwise-XOR" class="headerlink" title="Bitwise XOR"></a>Bitwise XOR</h3></li>
</ol>
<p>$0 XOR 0 &#x3D; 0  \<br>0 XOR 1 &#x3D; 1  \<br>1 XOR 0 &#x3D; 1  \<br>1 XOR 1 &#x3D; 0$</p>
<h3 id="PRNG"><a href="#PRNG" class="headerlink" title="PRNG"></a>PRNG</h3><p>Replace the random key in One-time Pad by a pseudo-random<br>sequence, generated by a cryptographic pseudo-random generator that is ‘seeded’ with the key.</p>
<h2 id="Modes-of-Encryption"><a href="#Modes-of-Encryption" class="headerlink" title="Modes of Encryption"></a>Modes of Encryption</h2><p>如果消息比block size长。<br>o ECB – Electronic Code Book mode<br>o CBC – Cipher Block Chaining mode<br>o CTR – Counter mode  </p>
<h3 id="ECB"><a href="#ECB" class="headerlink" title="ECB"></a>ECB</h3><p>plaintext被分成很多与block size相同的text独立加密，然后再用分别的密钥独立解密。</p>
<ul>
<li>操作简便，但是对于有重复性的信息不安全。</li>
<li>最后一个block不足block size，需要padding，最后一个字节表示padding的长度，方便接收后删除。</li>
<li>加密: $C_n &#x3D; E_k(M_n) (or E(K, M_n))$ 解密:  $M_n &#x3D; D_k(C_n); n &#x3D; {1, 2, …}.$</li>
</ul>
<h3 id="CBC"><a href="#CBC" class="headerlink" title="CBC"></a>CBC</h3><p>与ECB一样，不过每一个cipher block 都是用前一个cipher block的ciphertext和当前的plaintext进行加密，所以前面的block坏掉，后面的全会影响。<br>$C_i &#x3D; E_K(M_i XOR C_{i-1}), where C_0 &#x3D; IV (Initialization Vector)$<br>Initialization Vector :是一个随机值，给第一个plaintext增加随机性用的。<br><img src="/2023/04/24/Cyber-security/18.jpeg" srcset="/img/loading.gif" lazyload></p>
<h3 id="CTR"><a href="#CTR" class="headerlink" title="CTR"></a>CTR</h3><p>目的是把block cipher变成stream cipher。<br>有一个计数器，计数器最大值等于block size的数量。每一个计数器的数量等于block size的数量，然后用计数器的值和密钥进行加密，然后和plaintext进行XOR。</p>
<ol>
<li>可以并行化。</li>
<li>可以随机访问。</li>
<li>与plaintext的XOR可以预先计算。</li>
<li>一个block的丢失，同步就会丢失，无法复原plaintext。</li>
<li>一个在传输过程中被修改的密码文本块只影响该块的解密。</li>
</ol>
<p><img src="/2023/04/24/Cyber-security/19.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="Block-vs-Stream-Cipher"><a href="#Block-vs-Stream-Cipher" class="headerlink" title="Block vs Stream Cipher"></a>Block vs Stream Cipher</h2><ul>
<li>Block Cipher</li>
</ul>
<ol>
<li>While block ciphers encrypt blocks of characters, stream ciphers encrypt individual characters or bit streams.</li>
</ol>
<ul>
<li>Stream ciphers</li>
</ul>
<ol>
<li>are usually faster than block ciphers in hardware; mostly used for continuous communications and&#x2F;or real-time applications.2. requires less memory space, so cheaper for resource<br>restrained devices such as embedded sensors.</li>
<li>have limited or no error propagation, so advantageous when transmission errors are probable.</li>
<li>can be built out of block ciphers, e.g. by using CTR modes.</li>
</ol>
<h2 id="漏洞"><a href="#漏洞" class="headerlink" title="漏洞"></a>漏洞</h2><ol>
<li>不可以使用内置random 函数比如rand()。</li>
<li>IVs should be random.</li>
</ol>
<h2 id="E3-1"><a href="#E3-1" class="headerlink" title="E3.1"></a>E3.1</h2><p>By applying DES twice using two different 56-bit keys, K1 and<br>K2, to encrypt a message, M, i.e. $C&#x3D;EK2[EK1[M]]$, where C is the ciphertext, we have a double DES encryption. Would this double DES encryption double the security level of a single DES<br>encryption? Justify your answer.<br><img src="/2023/04/24/Cyber-security/20.jpeg" srcset="/img/loading.gif" lazyload></p>
<h1 id="Public-key-Cryptography-PKC"><a href="#Public-key-Cryptography-PKC" class="headerlink" title="Public-key Cryptography (PKC)"></a>Public-key Cryptography (PKC)</h1><h2 id="One-Way-Function"><a href="#One-Way-Function" class="headerlink" title="One-Way Function"></a>One-Way Function</h2><p>计算上不可逆转的函数。常用的单项函数:</p>
<ol>
<li>Integer factorization(整数因子化): 用于RSA加密方案，将两个大的质数相乘很容易，但再给他分解质因数是很难的。RSA中信息通过提高到两个大素数的乘积来加密，只有知道素数的人才能将它解密。</li>
<li>discrete logarithm(离散对数): 用于DSS&#x2F;DSA和Diffie-Hellman密钥交换。目的是寻找一个 ax&#x3D;b mod p 的整数x的问题。其中a，b，p是已知的，x是未知的。这个问题是很难解决的，因为它需要尝试所有可能的x值，直到找到一个满足方程的值。这个问题的难度在于，当p很大时，x的可能值的数量是非常大的。</li>
</ol>
<h2 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h2><ul>
<li>适用于encryption(for symmetric key distribution): RSA, ElGamal, ECC</li>
<li>只能数字签名: DSA</li>
<li>只能key agreement : DH</li>
<li>加密和数字签名: RSA ElGamal Rabin</li>
<li>Examples:<br>  9 mod 5 &#x3D; 4<br>  20 mod 9 &#x3D; 2<br>  17 &#x3D; 2 mod 5 since 17-2 &#x3D; 3 ·5<h2 id="RSA"><a href="#RSA" class="headerlink" title="RSA"></a>RSA</h2>两个大素数(100-400)的乘积。<br><img src="/2023/04/24/Cyber-security/21.jpeg" srcset="/img/loading.gif" lazyload></li>
</ul>
<p><img src="/2023/04/24/Cyber-security/22.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="Hybrid-Cryptosystems"><a href="#Hybrid-Cryptosystems" class="headerlink" title="Hybrid Cryptosystems"></a>Hybrid Cryptosystems</h2><p><img src="/2023/04/24/Cyber-security/23.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="Digital-Signature"><a href="#Digital-Signature" class="headerlink" title="Digital Signature"></a>Digital Signature</h2><ol>
<li>Message-dependent: 数字签名需要依赖消息的内容，包括时间日期等细节。</li>
<li>Unreusable: 数字签名不可重复使用，每条信息的数字签名都是唯一的。</li>
<li>Ensures content integrity: 数字签名保证信息在签名过后的完整性。</li>
<li>Signer-dependent: 数字签名独属于签名着，不可以轻易被其他人创建。</li>
<li>Unforgeable: 很难被伪造。</li>
<li>Ensures origin authentication: 确认信息来源。</li>
<li>Verifiable: 可以被验证。</li>
<li>Anti-forgery: 数字签名不可伪造，因为它是基于签名者的私钥进行加密。</li>
</ol>
<p><img src="/2023/04/24/Cyber-security/24.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="DSS-x2F-DSA-纯数字签名的方法"><a href="#DSS-x2F-DSA-纯数字签名的方法" class="headerlink" title="DSS&#x2F;DSA(纯数字签名的方法)"></a>DSS&#x2F;DSA(纯数字签名的方法)</h2><h1 id="Cryptographic-Checksum-加密校验"><a href="#Cryptographic-Checksum-加密校验" class="headerlink" title="Cryptographic Checksum(加密校验)"></a>Cryptographic Checksum(加密校验)</h1><h2 id="需要加密校验的地方"><a href="#需要加密校验的地方" class="headerlink" title="需要加密校验的地方"></a>需要加密校验的地方</h2><ol>
<li>Public-key encryption, A –&gt; B: $E_{KUb}$ [M] 用B的public key加密。B不知道是谁发的，也不能确定消息完整性。所以需要校验。</li>
<li>Digital signing, A –&gt; B: M||$E{KRa}$ [h(M)] 用A的private key加密。不可抵赖性，因为明确是A发出的，并且消息完整。但是无法保证保密性。</li>
</ol>
<p>加密校验分为两种，hash function 和 Macs。</p>
<h2 id="对比于数字签名"><a href="#对比于数字签名" class="headerlink" title="对比于数字签名"></a>对比于数字签名</h2><p> 加密校验和和数字签名都是相关的，因为它们都是用来确保数据的完整性和真实性。然而，加密校验使用哈希函数或MAC，而数字签名则依靠公钥密码学。此外，数字签名提供不可抵赖性，这意味着发送者不能否认发送过数据，而加密校验则不提供这一功能。</p>
<h2 id="Hash-Function"><a href="#Hash-Function" class="headerlink" title="Hash Function"></a>Hash Function</h2><h3 id="Compression-Property-压缩特性"><a href="#Compression-Property-压缩特性" class="headerlink" title="Compression Property(压缩特性)"></a>Compression Property(压缩特性)</h3><p>h &#x3D; H(M) , h是 message digest(信息摘要)。由于是多对一映射，有可能collisions，尽可能避免。</p>
<p>生成hash 摘要用很多个block，不断用不同的hash function对上一次的hash message进行hash。最后的hash 是整个message的hash摘要。</p>
<h3 id="Security-Requirements-x2F-Properties-安全特性"><a href="#Security-Requirements-x2F-Properties-安全特性" class="headerlink" title="Security Requirements&#x2F;Properties(安全特性)"></a>Security Requirements&#x2F;Properties(安全特性)</h3><ol>
<li>Preimage resistant(one-way单向性): 无法反向。</li>
<li>2nd preimage resistant(week coliision resistance弱碰撞性): 无法找到另一个message，使得hash值相同。</li>
<li>Collision resistance (strong collision resistance强抗碰撞): 很难找到相同哈希值的和两个输入。</li>
</ol>
<h4 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h4><p>A 发送信息M给B, $M||s$ , $s &#x3D; E_{KRa}[H[M]]$. 攻击者发现了另外一个meesage,这个message和M有着相同的hash，我们就可以把这个替换成原本的message。这就是collision attack。</p>
<h2 id="MAC-Message-Authentication-Code"><a href="#MAC-Message-Authentication-Code" class="headerlink" title="MAC(Message Authentication Code)"></a>MAC(Message Authentication Code)</h2><p><img src="/2023/04/24/Cyber-security/25.jpeg" srcset="/img/loading.gif" lazyload></p>
<p><img src="/2023/04/24/Cyber-security/26.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="HMAC"><a href="#HMAC" class="headerlink" title="HMAC"></a>HMAC</h2><p><img src="/2023/04/24/Cyber-security/27.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="AEAD-Authenticated-Encryption-with-Associated-Data"><a href="#AEAD-Authenticated-Encryption-with-Associated-Data" class="headerlink" title="AEAD(Authenticated Encryption with Associated Data)"></a>AEAD(Authenticated Encryption with Associated Data)</h2><p>在AEAD（带关联数据的认证加密）中，其目的是为明文信息（有效载荷）提供保密性，并确保明文信息和关联数据（头）的完整性和真实性。AEAD的加密过程需要以下输入：</p>
<p>头（关联数据）： 信息的一部分，通常不需要保密性，但需要完整性和真实性保护。<br>明文（Plaintext）： 正在传输的实际内容或数据，需要保密。<br>密钥： 用于加密和认证过程的秘密密钥。<br>Nonce： 一个独特的值，将随机性引入加密过程。<br>当你使用这些输入进行AEAD加密时，你将得到以下输出：</p>
<p>密码文本： 明文信息的加密版本，确保其保密性。<br>认证标签： 一个验证加密的有效载荷（密码文本）和相关数据（头）的完整性和真实性的值。<br>然后，发送方将头、Nonce、密码文本和认证标签传送给接收方。收件人使用相同的密钥、nonce和头来解密密码文本并验证认证标签。如果验证成功，收件人可以确定该信息没有被篡改，并且它来自拥有相同密匙的合法发件人。</p>
<p>因此，收件人收到以下组件：头、nonce、密码文本和验证标签。然后，收件人使用这些组件以及共享的秘密密钥来解密密码文本，并验证整个信息的完整性和真实性。</p>
<h2 id="CCM-和-GCM"><a href="#CCM-和-GCM" class="headerlink" title="CCM 和 GCM"></a>CCM 和 GCM</h2><p>CGM 和 GCM 都是AEAD，并且都基于AES。GCM更加灵活，性能更好。</p>
<h2 id="length-attack"><a href="#length-attack" class="headerlink" title="length attack"></a>length attack</h2><p>攻击者知道正在使用的哈希函数和哈希输出的长度。他们也知道原始信息M的长度，但不知道秘钥K或其长度。</p>
<h2 id="E5-1"><a href="#E5-1" class="headerlink" title="E5.1"></a>E5.1</h2><ol>
<li>M||Tag, where Tag&#x3D;H(M||K)</li>
<li>M||Tag, where Tag&#x3D;E(K, H(M))</li>
<li>M||Tag, where Tag&#x3D;E(PRs, H(M))</li>
<li>E(K, M||H(M))</li>
</ol>
<h1 id="Security-Key"><a href="#Security-Key" class="headerlink" title="Security Key"></a>Security Key</h1><h2 id="Key-Management-Issues"><a href="#Key-Management-Issues" class="headerlink" title="Key Management Issues"></a>Key Management Issues</h2><ol>
<li>Key generation : 多个输入生成key，比如硬件信息，到达时间等等。</li>
<li>Key storage : 保存key，比如不联网的硬盘。或者把钥匙分成两部分k1，k2）：k2&#x3D; k1 xor K。</li>
</ol>
<h2 id="Diffie-Hellman-Algorithm-x2F-Protocol"><a href="#Diffie-Hellman-Algorithm-x2F-Protocol" class="headerlink" title="Diffie-Hellman Algorithm&#x2F;Protocol"></a>Diffie-Hellman Algorithm&#x2F;Protocol</h2><p>第一个public key 生成算法, 容易收到MITM(man in the middle)的攻击。就两方都一位攻击人的public key和private key是对方的。可以用digital signatures 或者 PKI 来验证公钥。</p>
<h2 id="Needham-Schroeder-分发会话密钥的方法"><a href="#Needham-Schroeder-分发会话密钥的方法" class="headerlink" title="Needham-Schroeder(分发会话密钥的方法)"></a>Needham-Schroeder(分发会话密钥的方法)</h2><h4 id="without-using-PKC"><a href="#without-using-PKC" class="headerlink" title="without using PKC"></a>without using PKC</h4><ul>
<li>KDC(Key Distribution Center): 可信任第三方，密钥分发中心。协议目的是建立一个共享的one-time session key($K_{ab}$)</li>
<li>Nonces($N_a ,N_b$),Alice 和 Bob 给的随机，用来保证信息的freshness。不会被replay attack。</li>
</ul>
<p><img src="/2023/04/24/Cyber-security/28.jpeg" srcset="/img/loading.gif" lazyload></p>
<p>Ka被KDC用来为Alice加密信息，Alice用Ka来解密从KDC收到的信息。<br>Kb被KDC用来为Bob加密信息，而Bob用Kb来解密从KDC收到的信息。<br>Kab是Alice和Bob用来加密和解密他们之间信息的会话密钥。<br>因此，虽然Ka和Kb用于每一方与KDC之间的加密和解密，但Kab用于Alice和Bob之间的加密和解密。  </p>
<h4 id="PKC-2-pass"><a href="#PKC-2-pass" class="headerlink" title="PKC 2 pass"></a>PKC 2 pass</h4><p><img src="/2023/04/24/Cyber-security/29.jpeg" srcset="/img/loading.gif" lazyload></p>
<h4 id="PKC-3-pass"><a href="#PKC-3-pass" class="headerlink" title="PKC 3 pass"></a>PKC 3 pass</h4><p><img src="/2023/04/24/Cyber-security/30.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="E6-1"><a href="#E6-1" class="headerlink" title="E6.1"></a>E6.1</h2><p>Assuming that Alice is to send a message, M, to Bob. M is encrypted with a shared key established using the DH protocol.<br>Explain whether Eve could access this message M. If so, explain how, and propose a solution to address this vulnerability.Assuming that Alice is to send a message, M, to Bob. M is encrypted with a shared key established using the DH protocol. Explain whether Eve could access this message M. If so, explain how, and propose a solution to address this vulnerability.</p>
<p>how :<br>This is an active attack. The attacker in tercepts and substitutes Ya and Yb with Ye.<br>So at the end of the message exchanges, Eve will have Kae, Kbe, Alice will have Kae and Bob will have Kbe. Any messages encrypted with Kae will be decrypted and read by Eve and then re-encrypted with Kbe and vice versa without the knowledge of Alice and Bob.</p>
<p>solution 1 Fix DH: </p>
<p>Server’s and client’s public key certificates contain their respective DH public key parameters. In other words, the DH public keys are certified by a CA. But there has to be a way that Alice and Bob could prove to each other that they are the rightful owners of the corresponding certificates (unless the identity of one entity is already known to the other). With this method, the established symmetric key is not really a session-valid key. So the security level is not as high as the second method.</p>
<p>solution 2 Ephemeral DH:</p>
<p>DH public keys are exchanged, signed using the sender’s private DSA key; the receiver uses the corresponding public keys (certified in the certificates) to verify the signatures. The certificates are used to certify the DSA keys, and DH shares are signed using DSA by the respective signers. This is the so called DH-DSA method, used to create a temporary, one-time session key.</p>
<h2 id="E6-2"><a href="#E6-2" class="headerlink" title="E6.2"></a>E6.2</h2><p>• This simply protocol does not provide mutual authentication: it does not show that the public key has been certified and that the demonstration of private key associated to the public key in the certificate is missing. Eve can intercept the message, creates its own public&#x2F;private key pair {PUe, PRe} and transmits PUe||IDA to Bob. Bob generates a secret key, Ks, and transmits E(PUe, Ks). Eve intercepts the message and learns Ks by computing D(PRe, E(PUe, Ks)). Eve transmits E(PUa, Ks) to Alice. The result is that both Alice and Bob know Ks and are unaware that Ks has also been revealed to Eve. Alice and Bob can now exchange messages using Ks. Eve no longer actively interferes with the communications channel but simply eavesdrops. Knowing Ks, Eve can decrypt all messages, and both A and B are unaware of the problem.</p>
<h2 id="E6-3"><a href="#E6-3" class="headerlink" title="E6.3"></a>E6.3</h2><p>This is the Needham-Schroeder protocol. Answer the following questions:</p>
<ol>
<li>What are the benefits for A to forward the session key to B (i.e. step 3), rather<br>than letting KDC to directly send the session key to B?  </li>
<li>TRY to identify two application areas of the Needham-Schroeder protocol and to<br>elaborate the benefits of using the Needham-Schroeder protocol in these<br>application areas</li>
</ol>
<p>Q1<br>Benefits:</p>
<ol>
<li>reduced involvement of KDC, thus less overhead not just for KDC also for B;</li>
<li>This protocol (designed in this way) can also be used for authentication<br>purpose, in addition to confidential communication between A and B.</li>
</ol>
<p>Q2 Two applications: one is establishing a secure communication channel; and the<br>other is for authentication service.</p>
<p>• Benefits:<br>• Party A (i.e. user) does not need to remember many keys while being able to<br>use a different key for a different correspondent;<br>• When used for authentication, the protocol supports single sign-on, i.e. a<br>user only need to remember a single password, but is able to use different<br>short-term secrets for different servers and the users’ master secrets (i.e.<br>long-term passwords) are only managed by one entity, i.e. KDC.</p>
<h1 id="PKI-Public-Key-Infrastructure"><a href="#PKI-Public-Key-Infrastructure" class="headerlink" title="PKI(Public Key Infrastructure)"></a>PKI(Public Key Infrastructure)</h1><h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>VPN , 网页浏览器 , PGP 等都会用到 , 银行卡 , 数字版权。</p>
<ol>
<li>How to ensure the security (secrecy and strength)<br>of the private key ？</li>
</ol>
<ul>
<li>The key size should be large enough.</li>
<li>The lifetime of the key should guard against brute-force<br>attacks.</li>
<li>The key should be kept secret; they should be<br>generated, transported, stored and destroyed (at the end<br>of its lifetime) securely.</li>
</ul>
<ol start="2">
<li>How to ensure that a public key is trustworthy ？ how<br>could we trust that a given public key indeed belongs to a claimed entity.</li>
</ol>
<ul>
<li>The solution is to have some trusted entity or authority to sign one’s public key -&gt; digital certificate.</li>
<li>Otherwise, communications are vulnerable to man-in-themiddle attack.</li>
</ul>
<h2 id="Signature-of-CA"><a href="#Signature-of-CA" class="headerlink" title="Signature of CA"></a>Signature of CA</h2><p>它将公共密钥与一个人、硬件设备或软件过程的身份结合起来。 证书由一个CA进行数字签名。这个签名可以用CA的公开密钥进行验证。这样，任何收到证书的人都可以验证它确实是由CA签发的，并且没有被篡改过。证书中包含的信息可以根据其目的而有所不同。例如，用于安全电子邮件通信的证书可能包含持有人的电子邮件地址。用于金融交易的证书可能包含信用卡号码和信用额度</p>
<h2 id="CRL-Certificate-Revocation-List"><a href="#CRL-Certificate-Revocation-List" class="headerlink" title="CRL(Certificate Revocation List)"></a>CRL(Certificate Revocation List)</h2><p>吊销证书</p>
<ol>
<li>date and time of the CRL publications.</li>
<li>name of the issuing CA.</li>
<li>serial numbers of all the revoked certificates.</li>
</ol>
<p>所以使用证书的时候需要确认 </p>
<ol>
<li>It has a valid CA signature</li>
<li>It has not expired, and</li>
<li>It is not listed in the CA’s most recent CRL.</li>
</ol>
<h2 id="top-down-certificate-hierarchy"><a href="#top-down-certificate-hierarchy" class="headerlink" title="top-down certificate hierarchy,"></a>top-down certificate hierarchy,</h2><p><img src="/2023/04/24/Cyber-security/32.jpeg" srcset="/img/loading.gif" lazyload></p>
<p>如果Bob想认证Alice，他需要找到他信任的证书给Alice签发的。</p>
<p>CERT 表示的是自己的证书。<br>S_{DeptQ} 表示的是由DeptQ信任</p>
<p> self-signed (a standalone or root CA) 自签头证书</p>
<p> <img src="/2023/04/24/Cyber-security/33.jpeg" srcset="/img/loading.gif" lazyload></p>
<h2 id="bottom-up"><a href="#bottom-up" class="headerlink" title="bottom-up"></a>bottom-up</h2><p>没有受信任的锚： 没有一个中央受信机构或锚，如根证书颁发机构（CA），来颁发和管理所有证书。</p>
<p>终端实体充当CA： 通常，终端实体（用户、设备、应用程序）为他们认识和信任的其他实体签署证书，本质上是充当他们自己的证书机构。</p>
<p>信任评估机制： 因为没有中央机构可以隐含信任，所以需要一个机制来评估每个证书或CA的信任程度。这种模式下的信任是主观的，是基于个人决定的。</p>
<p>PGP解决方案： 这种模式在PGP(Pretty Good Privacy)中使用，它是一种加密程序，为数据通信提供加密隐私和认证。在PGP中，用户独立决定他们信任谁。</p>
<p>与自上而下的层次结构相比, 自下而上的模式提供了更多的用户自主权, 但由于缺乏一个单一的可信任的权威机构, 在管理和扩展上可能会更加复杂。</p>
<h2 id="MasterCard"><a href="#MasterCard" class="headerlink" title="MasterCard"></a>MasterCard</h2><p> SecureCode解决方案是基于3-D域安全（3DS）模型，它代表了参与此类交易的三个主要参与者</p>
<h3 id="Acquirer-Domain-Merchant-商家"><a href="#Acquirer-Domain-Merchant-商家" class="headerlink" title="Acquirer Domain (Merchant)商家"></a>Acquirer Domain (Merchant)商家</h3><h3 id="Issuer-Domain-Cardholder"><a href="#Issuer-Domain-Cardholder" class="headerlink" title="Issuer Domain (Cardholder)"></a>Issuer Domain (Cardholder)</h3><p>注册是这个过程中的一个关键步骤。在注册过程中，持卡人（CH）提供相关的身份和个人信息。这可能包括密码、个人保证信息（PAM）或其他形式的识别。这些信息被收集、验证，然后传递给发卡人的访问控制服务器（ACS）</p>
<p> Access Control Server (ACS):</p>
<ol>
<li>Verification 验证一个账号是否注册</li>
<li>AuthenticationACS负责对持卡人进行认证</li>
<li>Signing Authentication Outcomes 购买的人是否合法人</li>
</ol>
<h2 id="E7-1"><a href="#E7-1" class="headerlink" title="E7.1"></a>E7.1</h2><p>(ii) X.509 is a top-down approach to public key management. Investigate and<br>describe a bottom-up approach to public key management.</p>
<p>Assumption: You knows A, B, C, D, E, F.<br>Let us say H wants to communicate with<br>You, You do not know H, but You know A<br>and B, and A and B know H. So A and B can<br>sign H’s public key.<br>If A and B are fully trusted by You, then one<br>signature (on H’s public key), either from A<br>or B, would be sufficient.<br>However, if A and B are partially trusted by<br>You, then signatures from both A and B may<br>be necessary.<br>You can use other heuristics, e.g. if You gives<br>¼ trust to each of the entities he knows,<br>then 4 signatures on the public key of an<br>entity You does not know would be<br>required.</p>
<h1 id="E7-2"><a href="#E7-2" class="headerlink" title="E7.2"></a>E7.2</h1><p>Assuming that Alice has sent a signed message to Bob.<br>(i) Highlight the steps for verifying a digital certificate.<br>(ii) Highlight the steps Bob takes to verify the authenticity of the message from<br>Alice.</p>
<p>(i)</p>
<ul>
<li>Check validity period to see if it is expired.  </li>
<li>Check CRL list to see if the certificate has been revoked.<ul>
<li>Verify the signature on the cert:</li>
<li>Calculate a message digest for the certificate</li>
<li>Use the CA’s public key to decrypt the digital signature and recover what is<br>claimed to be the original message digest embedded within the certificate</li>
</ul>
</li>
<li>Compare the two resulting message digest values to ensure the integrity of<br>the certificate</li>
</ul>
<p>(ii)</p>
<ul>
<li>Verify the certificate or chain of certificates</li>
<li>Verify Alice’s signature</li>
</ul>
<h1 id="User-Identification-and-Authentication"><a href="#User-Identification-and-Authentication" class="headerlink" title="User Identification and Authentication"></a>User Identification and Authentication</h1><h2 id="Overview-1"><a href="#Overview-1" class="headerlink" title="Overview"></a>Overview</h2><h2 id="Password-based-Authentication"><a href="#Password-based-Authentication" class="headerlink" title="Password-based Authentication"></a>Password-based Authentication</h2><h3 id="Plaintext-PW-method"><a href="#Plaintext-PW-method" class="headerlink" title="Plaintext PW method"></a>Plaintext PW method</h3><p>服务器和客户端之间的所有通信都应通过安全通道，如HTTPS或SSL&#x2F;TLS，以防止在传输过程中窃听或截获明文密码<br>受到这些威胁, Interception during Transmission(传输过程中的拦截),Server Breach(服务器被攻破), Insider Threat(内部威胁), Replay Attacks(重放攻击)。</p>
<h3 id="Hashed-PW-method"><a href="#Hashed-PW-method" class="headerlink" title="Hashed PW method"></a>Hashed PW method</h3><p>安全的哈希函数： 使用一个加密安全的哈希函数，它能抵抗碰撞攻击。这意味着几乎不可能找到两个不同的输入，产生相同的哈希输出。</p>
<h3 id="Hashed-PW-with-Salt-method"><a href="#Hashed-PW-with-Salt-method" class="headerlink" title="Hashed PW with Salt method"></a>Hashed PW with Salt method</h3><p>带盐可以防止彩虹表攻击(rainbow attack)</p>
<p>密码创建： 当用户创建他们的密码时，会产生一个独特的盐。盐和密码被串联起来，然后一起散列。盐和散列值（h1）都存储在服务器上的一个安全位置（例如，在基于Unix的系统上的&#x2F;etc&#x2F;shadow文件中）。</p>
<p>认证： 当用户输入他们的密码来登录时，这个过程会重复进行。存储的盐被附加到输入的密码上，然后对组合进行散列。这将产生一个新的哈希值（h2）。</p>
<h2 id="Unix-authN-Solution-Crypt"><a href="#Unix-authN-Solution-Crypt" class="headerlink" title="Unix authN Solution: Crypt()"></a>Unix authN Solution: Crypt()</h2><p>DES + salt , 提高了彩虹表4096倍, 但现在不行了，bcrypt或者scrypt。</p>
<h2 id="Conclusions"><a href="#Conclusions" class="headerlink" title="Conclusions"></a>Conclusions</h2><p>密码是最基本的认证机制<br>Ø安全级别只和你选择的密码一样好。<br>Ø它们很容易被猜中，除非采取预防措施确保<br>有足够大的可能的密码集，并且其中的每一个<br>潜在的密码被选中的可能性是相同的。<br>Ø挑战-回应技术允许系统改变密码，因此不容易受到猜测攻击。<br>因此，密码不容易被猜测攻击；OTP是这种技术的一个例子、<br>OTP是这种技术的一个例子，它对猜测和重放攻击特别有效。<br>q 认证也可以通过公钥加密技术实现。<br>也可以用公钥加密法实现，这需要公钥证书–X.509<br>标准。</p>
<p>还有其他形式的认证：生物识别技术测量用户的身体特征<br>用户的身体特征；位置要求验证者<br>来确定用户的位置。</p>
<p>PKC 应用: Confidentiality, Signatures and integrity , Identification and authentication , timestamping.</p>
<h1 id="考点"><a href="#考点" class="headerlink" title="考点"></a>考点</h1><p>Topic 3 :  Applications , when you should use which function?  Which function you use in which application , in which times, do not focus on details. But why they are efficient , why they are not efficient.  How to use them? </p>
<p>Topic 4 : DSA 不用记数学公式。</p>
<p>Topic 5 : 那几个公式要背。GCM不需要背。</p>
<p>Topic 6,7,8,9,10,11 : 全需要背。</p>
<h1 id="Con"><a href="#Con" class="headerlink" title="Con"></a>Con</h1><h3 id="IPsecs"><a href="#IPsecs" class="headerlink" title="IPsecs"></a>IPsecs</h3><ul>
<li>Transport Mode vs Tunnel Mode: transport只加密payload(数据),tunnel model 同时加密head和payload。 AH 无论用哪个model都不可以加密。上诉情况是指ESP。</li>
<li>AH(Authentication Header): <ul>
<li>data origin authentication  数据来源认证</li>
<li>data integrity 完整性</li>
<li>anti-replay 防重放 (SequenceNumber),IPsec header中有一个每个data package 的唯一序列号。从SA第一个数据报开始。</li>
<li>does not provide confidentiality protection  不提供保密性保护</li>
<li>outboard(sender)<ul>
<li>SA lookup : SA 由key , security protocal(AH, ESP), security parameters index(SPI)组成。</li>
<li>生成序列号</li>
<li>计算MAC</li>
</ul>
</li>
<li>inboard(receiver)<ul>
<li>Resumably(重组):较大数据需要被分割fragmented, 所以收到后要reassemble重组。</li>
<li>SA lookup : receiver 确定是正确的SA.</li>
<li>Sequence Number Verification</li>
<li>MAC 验证: 确保信息没有被修改。</li>
</ul>
</li>
</ul>
</li>
<li>ESP(Encapsulating Security Payload):<ul>
<li>outboard SA lookup 后面加密。 encrypt-then-mac 比mac-then-encrypt 或者mac-and-encrypt 更安全。在密码文本上计算mac，防止padding oracle attack(填充神谕攻击)</li>
<li>inboard MAC 之后解密。</li>
<li>比AH authentication认证更窄,因为AH保护所有数据，ESP不保护head。不需要confidentiality保密的时候AH是一个合适的协议。</li>
</ul>
</li>
</ul>
<h3 id="CA-和-KDC"><a href="#CA-和-KDC" class="headerlink" title="CA 和 KDC"></a>CA 和 KDC</h3><p>CA 是 asymmetric 的 , KDC 是 symmetric的。</p>
<h3 id="HMAC-1"><a href="#HMAC-1" class="headerlink" title="HMAC"></a>HMAC</h3><p>HMAC(K, M)&#x3D; H[(K+ XOR opad) || H[(K+ XOR ipad) || M]]; </p>
<h3 id><a href="#" class="headerlink" title></a></h3><h2 id="Attack"><a href="#Attack" class="headerlink" title="Attack"></a>Attack</h2><ul>
<li><p>Replay attack: eve拦截了data package 并且transmit很多次，让recipient以为自己收到了很多次。</p>
</li>
<li><p>padding oracle attack填充神谕攻击: eve利用解密过程中的错误信息来得到plaintext的内容。通常是mac直接通过plaintext得到而造成的。</p>
</li>
<li><p>meet-in-the-middle attack: 发生在双重加密之中。对前半段解密，后半段猜测为加密的信息进行加密。两者重合，寻找密钥。证明了双重加密无法提供两倍的安全性，所以三重。</p>
</li>
<li><p>cookie hijacking: 会话劫持，如果信息都暴露通常也伴随着被会话劫持。</p>
</li>
<li><p>brute force attack:</p>
</li>
<li><p>dictionary Attack: eve尝试生日，常见组合来破解密码。</p>
</li>
<li><p>rainbow table attack : 预先计算好的表，反转加密的hash function, 就是破解hash值的dictonary attack.</p>
<h2 id="security-properties"><a href="#security-properties" class="headerlink" title="security properties"></a>security properties</h2></li>
<li><p>integrity : 完整性 Hash.</p>
</li>
<li><p>confidentiality :  保密性</p>
</li>
<li><p>authenticity : 验证来源，CA.</p>
</li>
<li><p>non-repudiation: 不可抵赖性, 通常通过digit signature.</p>
</li>
<li><p>authorization: 授权。不同的用户有不同的权限。</p>
</li>
</ul>
<h2 id="一些名词"><a href="#一些名词" class="headerlink" title="一些名词"></a>一些名词</h2><p>PKI,CA,RSI,ECB,CBC,CTR,</p>
<h2 id="AES-block-cipher"><a href="#AES-block-cipher" class="headerlink" title="AES(block cipher)"></a>AES(block cipher)</h2><p>DES 8 bytes block , AES 16 bytes block.</p>
<h3 id="formula"><a href="#formula" class="headerlink" title="formula"></a>formula</h3><ol>
<li>EDE2(triple DES using 2 keys) : C &#x3D; EK1(DK2(EK1(M)))   </li>
<li>EDE3(triple DES using three keys):  C &#x3D; EK3(DK2(EK1(M)))   </li>
<li>AES</li>
<li>ECB : Cn &#x3D; E(K, Mn) ;  Mn &#x3D; D(K, Cn); n &#x3D; {1, 2, …}. (别忘了padding)</li>
<li>CBC : Ci &#x3D; E(K , Mi XORCi-1), where C0 &#x3D; IV (Initialization Vector) ; Mi &#x3D; D(K, Ci) XOR Ci-1 , M0 &#x3D; IV (别忘了padding)</li>
<li>CTR : Ci &#x3D; E(K, Counter + i) XOR Mi; i &#x3D; {1, 2, …}. Mi &#x3D; E(K, Counter + i) XOR Ci ; i &#x3D; {1, 2, …}.</li>
</ol>
<h3 id="如果消息比block-size长。"><a href="#如果消息比block-size长。" class="headerlink" title="如果消息比block size长。"></a>如果消息比block size长。</h3><h4 id="ECB-1"><a href="#ECB-1" class="headerlink" title="ECB"></a>ECB</h4><p> Cn &#x3D; Ek(Mn) (or E(K, Mn));<br> Mn &#x3D; Dk(Cn); n &#x3D; {1, 2, …}.<br>plaintext被分成很多与block size相同的text独立加密，然后再用分别的密钥独立解密。</p>
<ul>
<li>操作简便，但是对于有重复性的信息不安全。</li>
<li>最后一个block不足block size，需要padding，最后一个字节表示padding的长度，方便接收后删除。<h4 id="CBC-1"><a href="#CBC-1" class="headerlink" title="CBC"></a>CBC</h4>与ECB一样，不过每一个cipher block 都是用前一个cipher block的ciphertext和当前的plaintext进行加密，所以前面的block坏掉，后面的全会影响。<br>Initialization Vector :是一个随机值，给第一个plaintext增加随机性用的。<h4 id="CTR-1"><a href="#CTR-1" class="headerlink" title="CTR"></a>CTR</h4>目的是把block cipher变成stream cipher。<br>有一个counter 和 nonce 计数器最大值等于block size的数量。每一个计数器的数量等于block size的数量，然后用计数器的值和密钥进行加密，然后和plaintext进行XOR。</li>
</ul>
<ol>
<li>可以并行化。</li>
<li>可以随机访问。</li>
<li>与plaintext的XOR可以预先计算。</li>
<li>一个block的丢失，同步就会丢失，无法复原plaintext。</li>
<li>一个在传输过程中被修改的密码文本块只影响该块的解密。</li>
</ol>
<h2 id="Stream-Cipher-1"><a href="#Stream-Cipher-1" class="headerlink" title="Stream Cipher"></a>Stream Cipher</h2><p>流密码是一种对称密钥加密算法，一次对明文数据进行加密，每次加密一个比特或字节。它们通过生成一个密钥流进行操作，密钥流是由秘密密钥产生的一个比特或字节序列。然后，密钥流与明文使用位XOR操作相结合，产生密码文本。å</p>
<h3 id="优点-1"><a href="#优点-1" class="headerlink" title="优点"></a>优点</h3><p>Bitwise XOR 效率高</p>
<h3 id="缺点-1"><a href="#缺点-1" class="headerlink" title="缺点"></a>缺点</h3><ol>
<li>Key length 密钥必须和明文一样长，这在大多数应用场景中是不现实的</li>
<li>如果同一个密钥被用于多个明文，流密码就会受到攻击。能够获得两个明文的XOR（M1 XOR M2）的攻击者，如果能够获得另一个plaintext及其相应的密码文本（M1和C1），就可以恢复其中一个明文。这是因为将M1与C1进行XOR（即M1 XOR K）会得到密钥K，然后攻击者可以使用K来解密C2（即M2 XOR K）并恢复M2。</li>
</ol>
<h3 id="stream和block-的区别"><a href="#stream和block-的区别" class="headerlink" title="stream和block 的区别"></a>stream和block 的区别</h3><ol>
<li>block 对字符块进行加密，stream对单个bit\character进行加密。</li>
</ol>
<h3 id="UNIX"><a href="#UNIX" class="headerlink" title="UNIX"></a>UNIX</h3><p>croe: 14mo31bmRY0Yg: 12:31:Cathy Roe: &#x2F;home&#x2F;croe:&#x2F;bin&#x2F;csh</p>
<ul>
<li>unix password file: &#x2F;etc&#x2F;passwd</li>
<li>User Name : croe</li>
<li>Password (14mo31bmRY0Yg) : salt value(14) + hash password </li>
<li>User ID(UID) : 12</li>
<li>Group ID(GID) : 31</li>
<li>Home Directory (&#x2F;home&#x2F;croe)</li>
<li>Shell (&#x2F;bin&#x2F;csh)</li>
</ul>
<h3 id="RSA-step"><a href="#RSA-step" class="headerlink" title="RSA step"></a>RSA step</h3><p>two prime number p,q<br>f(n) &#x3D; (p-1)(q-1)<br>1 &lt; e &lt; f(n)<br>d x e &#x3D; 1 mod f(n)<br>KPU &#x3D;  {e,n}<br>KPR &#x3D;  {d,n}<br>encrypt: message M &lt; n , C &#x3D; M^e mod n<br>decrypt: M &#x3D; C^d mod n   </p>
<h3 id="SA"><a href="#SA" class="headerlink" title="SA"></a>SA</h3><ol>
<li>negotiate policy such as authentication method , enctyption and has halgorithms , AH&#x2F;ESP,etc.</li>
<li></li>
</ol>
<h2 id="Exercise-Question-–-E9-1"><a href="#Exercise-Question-–-E9-1" class="headerlink" title="Exercise Question – E9.1"></a>Exercise Question – E9.1</h2><p>What is the major difference between transport mode and tunnel<br>mode in IPSec ESP, and any implications?</p>
<p>Unlike the tunnel mode, the transport mode only encrypts the<br>payload, not header. This means that in the transport mode, address info<br>and other header info are exposed.</p>

              
            </div>
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Cyber_security</div>
      <div>http://example.com/2023/04/24/Cyber-security/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Chenxi Qu</div>
        </div>
      
      
      
      <div class="license-meta-item">
        <div>Licensed under</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="../../../05/14/IOT/" title="IOT">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">IOT</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="../../../01/25/ux-review/" title="ux_review">
                        <span class="hidden-mobile">ux_review</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  






    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="http://dotafs.github.io" target="_blank" rel="nofollow noopener"><span>------到底啦------</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="../../../../js/events.js" ></script>
<script  src="../../../../js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>






  
    <script  src="../../../../js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script>
  (function() {
    var enableLang = CONFIG.code_language.enable && CONFIG.code_language.default;
    var enableCopy = CONFIG.copy_btn;
    if (!enableLang && !enableCopy) {
      return;
    }

    function getBgClass(ele) {
      return Fluid.utils.getBackgroundLightness(ele) >= 0 ? 'code-widget-light' : 'code-widget-dark';
    }

    var copyTmpl = '';
    copyTmpl += '<div class="code-widget">';
    copyTmpl += 'LANG';
    copyTmpl += '</div>';
    jQuery('.markdown-body pre').each(function() {
      var $pre = jQuery(this);
      if ($pre.find('code.mermaid').length > 0) {
        return;
      }
      if ($pre.find('span.line').length > 0) {
        return;
      }

      var lang = '';

      if (enableLang) {
        lang = CONFIG.code_language.default;
        if ($pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2 && $pre.children().hasClass('hljs')) {
          lang = $pre[0].children[0].classList[1];
        } else if ($pre[0].getAttribute('data-language')) {
          lang = $pre[0].getAttribute('data-language');
        } else if ($pre.parent().hasClass('sourceCode') && $pre[0].children.length > 0 && $pre[0].children[0].classList.length >= 2) {
          lang = $pre[0].children[0].classList[1];
          $pre.parent().addClass('code-wrapper');
        } else if ($pre.parent().hasClass('markdown-body') && $pre[0].classList.length === 0) {
          $pre.wrap('<div class="code-wrapper"></div>');
        }
        lang = lang.toUpperCase().replace('NONE', CONFIG.code_language.default);
      }
      $pre.append(copyTmpl.replace('LANG', lang).replace('code-widget">',
        getBgClass($pre[0]) + (enableCopy ? ' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>' : ' code-widget">')));

      if (enableCopy) {
        Fluid.utils.createScript('https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js', function() {
          var clipboard = new window.ClipboardJS('.copy-btn', {
            target: function(trigger) {
              var nodes = trigger.parentNode.childNodes;
              for (var i = 0; i < nodes.length; i++) {
                if (nodes[i].tagName === 'CODE') {
                  return nodes[i];
                }
              }
            }
          });
          clipboard.on('success', function(e) {
            e.clearSelection();
            e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-copy', 'icon-success');
            setTimeout(function() {
              e.trigger.innerHTML = e.trigger.innerHTML.replace('icon-success', 'icon-copy');
            }, 2000);
          });
        });
      }
    });
  })();
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="../../../../js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="../../../../js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
<!-- hexo injector body_end start -->
  <script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://python-github-calendar-api.vercel.app/api?dotafs";
            var git_color =['#ebedf0', '#f1f8ff', '#dbedff', '#c8e1ff', '#79b8ff', '#2188ff', '#0366d6', '#005cc5', '#044289', '#032f62', '#05264c'];
            var git_user ="dotafs";
            var parent_div_git = document.getElementsByClassName('container')[2];
            var git_div_html = '<div id="github-calendar" style="width:100%;height:auto;padding:10px;margin-bottom:20px"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>';
            if(parent_div_git && location.pathname =='/about/'){
                console.log('已挂载github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // 无报错，但不影响使用(支持pjax跳转)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // 有报错，但不影响使用(支持pjax跳转)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementsByClassName('container')[2]){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:200px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style>#github_container > .position-relative > .border{border:0!important}#github-calendar{position: relative;margin-top: -2rem;background-color: var(--board-bg-color);transition: background-color 0.2s ease-in-out;border-radius: 0.5rem;z-index: 3;-webkit-box-shadow: 0 12px 15px 0 rgb(0 0 0 / 24%), 0 17px 50px 0 rgb(0 0 0 / 19%);box-shadow: 0 12px 15px 0 rgb(0 0 0 / 24%), 0 17px 50px 0 rgb(0 0 0 / 19%);}</style><!-- hexo injector body_end end --></body>
</html>
